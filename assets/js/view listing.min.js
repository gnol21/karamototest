$(document).ready((function(){function e(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}$("#listingTable table tbody").empty(),$.ajax({url:"https://iptv.givethanksgrocers.com/karamoto/view_listing_api.php",type:"GET",dataType:"json",success:function(t){0!==t.length?(t.forEach((function(t,n){var o=e(t.Price),i=e(t.Mileage),s=`\n                        <tr data-id="${t.VehicleID}">\n                            <td>${n+1}</td>\n                            <td>${t.Make}</td>\n                            <td>${t.Model}</td>\n                            <td>${t.Year}</td>\n                            <td>${i}</td>\n                            <td>${o}</td>\n                            <td>${t.Conditions}</td>\n                            <td><button class="btn btn-dark btn-sm view-details-btn" type="button" style="margin-left: 3px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em" height="1em" fill="currentColor" style="font-size: 16px;">\n    \x3c!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc. --\x3e\n    <path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"></path>\n</svg></button></td>\n                        </tr>`;$("#listingTable table tbody").append(s)})),$(".view-details-btn").click((function(){!function(t){$.ajax({url:"https://iptv.givethanksgrocers.com/karamoto/view_vehicle_api.php?VehicleID="+t,type:"GET",dataType:"json",success:function(t){if(0===t.length)return $("#responseMessage").text("No vehicle details found."),void $("#responseModal").modal("show");var n=t[0];$("#vehicleMake").val(n.Make),$("#vehicleModel").val(n.Model),$("#vehicleYear").val(n.Year),$("#vehicleMileage").val(e(n.Mileage)),$("#vehiclePrice").val(e(n.Price)),$("#vehicleCondition").val(n.Conditions),$("#vehicleVIN").val(n.VIN),$("#vehicleDescription").text(n.Description),$("#vehicleDateListed").val(n.DateListed),$("#vehicleModal").modal("show")},error:function(){console.log("Error fetching vehicle details"),$("#responseMessage").text("Error fetching vehicle details."),$("#responseModal").modal("show")}})}($(this).closest("tr").data("id"))}))):$("#listingTable table tbody").append('<tr><td colspan="8" class="text-center">No listings found.</td></tr>')},error:function(){console.log("Error fetching listing data"),$("#responseMessage").text("Error fetching listing data."),$("#responseModal").modal("show")}})}));